<!doctype html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Главная страница</title>
  <link rel="stylesheet" href="table.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>


  <body>
    <table>
  <caption>Software products</caption>
  <tr>
    <th><img src="free-animated-icon-book-6454239.gif" width="105px", height= "105px"><p>Составление ТЗ</p></th>
    <th><img src="free-animated-icon-hacker-6569144.gif" width= "105px", height= "105px"><p>Десктоп приложение</p></th>
    <th><img src="прога.gif" width= "105px", height= "105px"><p>Написание программ</p></th>
  </tr>
  <tr>
    <th><button id = "btn1" type="button" name="run_script">От 5000</button></th>
    <th><button id = "btn2" type="button" name="run_script">От 10000</button></th>
    <th><button id = "btn3" type="button" name="run_script">От 15000</button></th>
  </tr>
  <tr>
    <th><img src="мини-сайт.gif" width= "105px", height= "105px"><p>Бот мини-сайт</p></th>
    <th><img src="база.gif" width= "105px", height= "105px"><p>База данных</p></th>
    <th><img src="смс.gif" width= "105px", height= "105px"><p>Чат-бот</p></th>
  </tr>

  <tr>
    <th><button id = "btn4" type="button" name="run_script">От 25000</button></th>
    <th><button id = "btn5" type="button" name="run_script">От 10000</button></th>
    <th><button id = "btn6" type="button" name="run_script">От 10000</button></th>
  </tr>


  </table>
</body>

<script>


  const btn2 = document.querySelector('#btn2');
      btn2.addEventListener('click', function() {
      btn2.innerHTML = (btn2.innerHTML === 'От 10000') ? btn2.innerHTML = 'Добавлено' : btn2.innerHTML = 'От 10000';})

  const btn3 = document.querySelector('#btn3');
      btn3.addEventListener('click', function() {
      btn3.innerHTML = (btn3.innerHTML === 'От 15000') ? btn3.innerHTML = 'Добавлено' : btn3.innerHTML = 'От 15000';})

  const btn4 = document.querySelector('#btn4');
      btn4.addEventListener('click', function() {
      btn4.innerHTML = (btn4.innerHTML === 'От 25000') ? btn4.innerHTML = 'Добавлено' : btn4.innerHTML = 'От 25000';})

  const btn5 = document.querySelector('#btn5');
      btn5.addEventListener('click', function() {
      btn5.innerHTML = (btn5.innerHTML === 'От 10000') ? btn5.innerHTML = 'Добавлено' : btn5.innerHTML = 'От 10000';})

  const btn6 = document.querySelector('#btn6');
      btn6.addEventListener('click', function() {
      btn6.innerHTML = (btn6.innerHTML === 'От 10000') ? btn6.innerHTML = 'Добавлено' : btn6.innerHTML = 'От 10000';})


   let tg = window.Telegram.WebApp; //получаем объект webapp телеграма

   tg.expand(); //расширяем на все окно

   tg.MainButton.text = "Оставить заявку"; //изменяем текст кнопки
   tg.MainButton.setText("Оставить заявку"); //изменяем текст кнопки иначе
   tg.MainButton.textColor = "#F4F1F8"; //изменяем цвет текста кнопки
   tg.MainButton.color = "#4ad9bc"; //изменяем цвет бэкграунда кнопки
   tg.MainButton.setParams({"color": "#0a7c65"}); //так изменяются все параметры

    btn1.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
          if (tg.MainButton.isVisible){ //если кнопка показана
             tg.MainButton.hide() //скрываем кнопку
          }
          else{ //иначе
             tg.MainButton.show() //показываем
          }
          const btn1 = document.querySelector('#btn1');
          btn1.addEventListener('click', function() {
          btn1.innerHTML = (btn1.innerHTML === 'От 5000') ? btn1.innerHTML = 'Добавлено' : btn1.innerHTML = 'От 5000';})
       });
   btn2.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
      if (tg.MainButton.isVisible){ //если кнопка показана
         tg.MainButton.hide() //скрываем кнопку
      }
      else{ //иначе
         tg.MainButton.show() //показываем
      }
   });


   Telegram.WebApp.onEvent('mainButtonClicked', function(){
      tg.sendData("some string that we need to send");
      //при клике на основную кнопку отправляем данные в строковом виде
   });


   let usercard = document.getElementById("usercard"); //получаем блок usercard

   let profName = document.createElement('p'); //создаем параграф
   profName.innerText = `${tg.initDataUnsafe.user.first_name}
   ${tg.initDataUnsafe.user.last_name}
   ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
   //выдем имя, "фамилию", через тире username и код языка
   usercard.appendChild(profName); //добавляем

   let userid = document.createElement('p'); //создаем еще параграф
   userid.innerText = `${tg.initDataUnsafe.user.id}`; //показываем user_id
   usercard.appendChild(userid); //добавляем


   //работает только в attachment menu
   // let pic = document.createElement('img'); //создаем img
   // pic.src = tg.initDataUnsafe.user.photo_url; //задаём src
   // usercard.appendChild(pic); //добавляем элемент в карточку
</script>
</html>