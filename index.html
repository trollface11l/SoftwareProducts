<!doctype html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Главная страница</title>
  <link rel="stylesheet" href="table.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>


  <body>
    <table>
  <caption>Software products</caption>
  <tr>
    <th><img src="free-animated-icon-book-6454239.gif" width: "120px", height= "120px"><p>Составление ТЗ</p></th>
    <th><img src="free-animated-icon-hacker-6569144.gif" width: "120px", height= "120px"><p>Десктоп приложение</p></th>
    <th><img src="смс.gif" width: "120px", height= "120px"><p>Чат-бот</p></th>
  </tr>
  <tr>
    <th><button id = "btn1" type="button" name="run_script">От 5000</button></th>
    <th><button id = "btn2" type="button" name="run_script">От 10000</button></th>
    <th><button id = "btn3" type="button" name="run_script">От 15000</button></th>
  </tr>
  <tr>
    <th><img src="мини-сайт.gif" width: "120px", height= "120px"><p>Бот мини-сайт</p></th>
    <th><img src="база.gif" width: "120px", height= "120px"><p>База данных</p></th>
    <th><img src="прога.gif" width: "120px", height= "120px"><p>Написание программ</p></th>
  </tr>

  <tr>
    <th><button id = "btn4" type="button" name="run_script">От 25000</button></th>
    <th><button id = "btn5" type="button" name="run_script">От 10000</button></th>
    <th><button id = "btn6" type="button" name="run_script">От 10000</button></th>
  </tr>


  </table>
</body>

<script>
   let tg = window.Telegram.WebApp; //получаем объект webapp телеграма

   tg.expand(); //расширяем на все окно

   tg.MainButton.text = "Оставить заявку"; //изменяем текст кнопки
   tg.MainButton.setText("Оставить заявку"); //изменяем текст кнопки иначе
   tg.MainButton.textColor = "#F4F1F8"; //изменяем цвет текста кнопки
   tg.MainButton.color = "#4ad9bc"; //изменяем цвет бэкграунда кнопки
   tg.MainButton.setParams({"color": "#0a7c65"}); //так изменяются все параметры

   let btn2 = document.getElementById("btn2"); //получаем кнопку скрыть/показать

   btn2.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
      if (tg.MainButton.isVisible){ //если кнопка показана
         tg.MainButton.hide() //скрываем кнопку
      }
      else{ //иначе
         tg.MainButton.show() //показываем
      }
   });

   let btn1 = document.getElementById("btn1"); //получаем кнопку активировать/деактивировать
   btn1.addEventListener('click', function(){ //вешаем событие на нажатие html-кнопки
      if (tg.MainButton.isActive){ //если кнопка показана
         tg.MainButton.setParams({"color": "#E0FFFF"}); //меняем цвет
         tg.MainButton.disable() //скрываем кнопку
      }
      else{ //иначе
         tg.MainButton.setParams({"color": "#143F6B"}); //меняем цвет
         tg.MainButton.enable() //показываем
      }
   });

   Telegram.WebApp.onEvent('mainButtonClicked', function(){
      tg.sendData("some string that we need to send");
      //при клике на основную кнопку отправляем данные в строковом виде
   });


   let usercard = document.getElementById("usercard"); //получаем блок usercard

   let profName = document.createElement('p'); //создаем параграф
   profName.innerText = `${tg.initDataUnsafe.user.first_name}
   ${tg.initDataUnsafe.user.last_name}
   ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
   //выдем имя, "фамилию", через тире username и код языка
   usercard.appendChild(profName); //добавляем

   let userid = document.createElement('p'); //создаем еще параграф
   userid.innerText = `${tg.initDataUnsafe.user.id}`; //показываем user_id
   usercard.appendChild(userid); //добавляем


   //работает только в attachment menu
   // let pic = document.createElement('img'); //создаем img
   // pic.src = tg.initDataUnsafe.user.photo_url; //задаём src
   // usercard.appendChild(pic); //добавляем элемент в карточку
</script>
</html>